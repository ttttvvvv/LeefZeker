---
import Layout from '../layouts/Layout.astro';
import Header from '../components/Header.astro';
import Footer from '../components/Footer.astro';
import SubsidieCheck from '../components/SubsidieCheck.astro';
import KnowledgeCard from '../components/KnowledgeCard.astro';
---

<Layout 
  title="WMO, Subsidies & Financiering | Gratis subsidie-check - LeefZeker"
  description="Complete gids voor WMO-aanvragen, subsidies en financiering van woningaanpassingen. Gratis subsidie-check binnen 5 minuten. Persoonlijke begeleiding van aanvraag tot installatie."
>
  <Header />
  
  <!-- Structured Data -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "WebPage",
    "name": "WMO, Subsidies & Financiering",
    "description": "Complete gids voor WMO-aanvragen, subsidie-check en financieringsopties voor woningaanpassingen",
    "url": "https://www.leefzeker.nl/financiering",
    "mainEntity": {
      "@type": "Service",
      "name": "WMO-begeleiding en Subsidie-advies",
      "description": "Volledige ondersteuning bij WMO-aanvragen en financiering van hulpmiddelen",
      "provider": {
        "@type": "LocalBusiness",
        "name": "LeefZeker"
      }
    }
  }
  </script>

  <main>
    <!-- Blok 1: Hero + USP's -->
    <section class="hero">
      <div class="container">
        <div class="hero-content">
          <div class="hero-text">
            <h1 class="hero-title">WMO, Subsidies & Financiering</h1>
            <h2 class="hero-subtitle">
              Complete gids voor vergoedingen en financiering van woningaanpassingen. 
              Van subsidie-check tot WMO-begeleiding ‚Äî wij regelen het voor u.
            </h2>
            
            <div class="hero-benefits">
              <div class="benefit-item">
                <span class="benefit-check">‚úÖ</span>
                <span>Gratis subsidie-check</span>
              </div>
              <div class="benefit-item">
                <span class="benefit-check">‚úÖ</span>
                <span>WMO-begeleiding van A tot Z</span>
              </div>
              <div class="benefit-item">
                <span class="benefit-check">‚úÖ</span>
                <span>Alternatieve financiering</span>
              </div>
              <div class="benefit-item">
                <span class="benefit-check">‚úÖ</span>
                <span>Persoonlijk advies aan huis</span>
              </div>
            </div>

            <blockquote class="hero-quote">
              "500+ mensen geholpen met WMO-aanvragen ‚Äî vaak 100% vergoeding."
            </blockquote>
          </div>

          <div class="hero-subsidie-check">
            <SubsidieCheck 
              title="Gratis subsidiecheck"
              description="Binnen 5 minuten weten of u in aanmerking komt voor WMO-vergoeding"
              buttonText="Start nu"
              icon="üè†"
              linkUrl="#subsidie-check"
            />
          </div>
        </div>
      </div>
    </section>

    <!-- Blok 2: "Wat is WMO?" (info-sectie) -->
    <section class="section wmo-info-section">
      <div class="container">
        <h2 class="section-title">Wat is WMO?</h2>
        <div class="wmo-content">
          <div class="wmo-text">
            <p class="wmo-intro">
              De Wet Maatschappelijke Ondersteuning (WMO) helpt mensen om zo lang mogelijk 
              zelfstandig thuis te wonen. Via de WMO kunt u (gedeeltelijke) vergoeding krijgen 
              voor woningaanpassingen en hulpmiddelen.
            </p>
            
            <div class="wmo-highlights">
              <a href="#wmo-proces" class="highlight-box highlight-green">
                <h3>Vaak volledige vergoeding</h3>
                <p>Bij medische noodzaak krijgt u vaak 100% vergoeding</p>
              </a>
              <a href="#financieringsopties" class="highlight-box highlight-blue">
                <h3>Lage eigen bijdrage</h3>
                <p>Meestal ‚Ç¨0 - ‚Ç¨150 per maand, afhankelijk van inkomen</p>
              </a>
              <a href="#wmo-proces" class="highlight-box highlight-orange">
                <h3>Snelle afhandeling</h3>
                <p>Beslissing binnen 8 weken, wij begeleiden u</p>
              </a>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Blok 3: Stappenplan "Zo werkt het" -->
    <section id="wmo-proces" class="section steps-section">
      <div class="container">
        <h2 class="section-title">WMO-aanvraag: Zo werkt het</h2>
        <p class="section-subtitle">Wij begeleiden u door het hele proces ‚Äî van aanvraag tot installatie</p>
        
        <div class="steps-grid">
          <div class="step-card">
            <div class="step-number">1</div>
            <div class="step-content">
              <h3 class="step-title">Gratis thuisadvies</h3>
              <p class="step-description">
                Wij komen bij u langs voor een gratis adviesgesprek. 
                Samen bekijken we wat nodig is en welke subsidies mogelijk zijn.
              </p>
            </div>
          </div>

          <div class="step-card">
            <div class="step-number">2</div>
            <div class="step-content">
              <h3 class="step-title">WMO-aanvraag gemeente</h3>
              <p class="step-description">
                Wij helpen u met het invullen van de formulieren en dienen 
                de aanvraag in bij uw gemeente.
              </p>
            </div>
          </div>

          <div class="step-card">
            <div class="step-number">3</div>
            <div class="step-content">
              <h3 class="step-title">Huisbezoek gemeente</h3>
              <p class="step-description">
                Een adviseur van de gemeente bezoekt u thuis om de situatie 
                te beoordelen. Wij kunnen hierbij aanwezig zijn.
              </p>
            </div>
          </div>

          <div class="step-card">
            <div class="step-number">4</div>
            <div class="step-content">
              <h3 class="step-title">Beschikking & installatie</h3>
              <p class="step-description">
                Na goedkeuring (binnen 8 weken) plannen wij direct de installatie. 
                U hoeft zich nergens zorgen over te maken.
              </p>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Blok 4: Alle financieringsmogelijkheden -->
    <section id="financieringsopties" class="section financing-section">
      <div class="container">
        <h2 class="section-title">Alle financieringsmogelijkheden</h2>
        <p class="section-subtitle">Ook zonder WMO-vergoeding zijn er altijd oplossingen</p>
        
        <div class="financing-grid">
          <div class="financing-card featured">
            <div class="financing-icon">üèõÔ∏è</div>
            <div class="financing-badge">Meest gekozen</div>
            <h3 class="financing-title">WMO-subsidie</h3>
            <div class="financing-details">
              <div class="detail-row">
                <span class="detail-label">Vergoeding:</span>
                <span class="detail-value">Vaak 100%</span>
              </div>
              <div class="detail-row">
                <span class="detail-label">Eigen bijdrage:</span>
                <span class="detail-value">‚Ç¨0 - ‚Ç¨150/mnd</span>
              </div>
              <div class="detail-row">
                <span class="detail-label">Doelgroep:</span>
                <span class="detail-value">Medische noodzaak</span>
              </div>
            </div>
            <ul class="financing-benefits">
              <li>‚úÖ Geen terugbetaling</li>
              <li>‚úÖ Wij regelen aanvraag</li>
              <li>‚úÖ Snelle afhandeling</li>
            </ul>
            <a href="/contact" class="btn btn-primary btn-full">Plan advies</a>
          </div>

          <div class="financing-card">
            <div class="financing-icon">üè¶</div>
            <h3 class="financing-title">Blijverslening</h3>
            <div class="financing-details">
              <div class="detail-row">
                <span class="detail-label">Bedrag:</span>
                <span class="detail-value">‚Ç¨5.000 - ‚Ç¨50.000</span>
              </div>
              <div class="detail-row">
                <span class="detail-label">Rente:</span>
                <span class="detail-value">Vaak onder 2%</span>
              </div>
              <div class="detail-row">
                <span class="detail-label">Doelgroep:</span>
                <span class="detail-value">55-plussers</span>
              </div>
            </div>
            <ul class="financing-benefits">
              <li>‚úÖ Geen maandlasten</li>
              <li>‚úÖ Pas terugbetalen bij verkoop</li>
              <li>‚úÖ Lage rente</li>
            </ul>
            <a href="/contact" class="btn btn-secondary btn-full">Bekijk voorbeeld</a>
          </div>

          <div class="financing-card">
            <div class="financing-icon">üí≥</div>
            <h3 class="financing-title">Termijnbetaling</h3>
            <div class="financing-details">
              <div class="detail-row">
                <span class="detail-label">Bedrag:</span>
                <span class="detail-value">Tot ‚Ç¨5.000</span>
              </div>
              <div class="detail-row">
                <span class="detail-label">Rente:</span>
                <span class="detail-value">0% rente</span>
              </div>
              <div class="detail-row">
                <span class="detail-label">Looptijd:</span>
                <span class="detail-value">12-36 maanden</span>
              </div>
            </div>
            <ul class="financing-benefits">
              <li>‚úÖ Geen rente</li>
              <li>‚úÖ Flexibele termijnen</li>
              <li>‚úÖ Direct eigendom</li>
            </ul>
            <a href="/contact" class="btn btn-secondary btn-full">Plan advies</a>
          </div>

          <div class="financing-card">
            <div class="financing-icon">üè†</div>
            <h3 class="financing-title">Huurkoop</h3>
            <div class="financing-details">
              <div class="detail-row">
                <span class="detail-label">Looptijd:</span>
                <span class="detail-value">36-60 maanden</span>
              </div>
              <div class="detail-row">
                <span class="detail-label">Voordeel:</span>
                <span class="detail-value">Belastingaftrek</span>
              </div>
              <div class="detail-row">
                <span class="detail-label">Doelgroep:</span>
                <span class="detail-value">Vast inkomen</span>
              </div>
            </div>
            <ul class="financing-benefits">
              <li>‚úÖ Eigendom na afloop</li>
              <li>‚úÖ Lage maandlasten</li>
              <li>‚úÖ BTW-voordeel mogelijk</li>
            </ul>
            <a href="/contact" class="btn btn-secondary btn-full">Bekijk voorbeeld</a>
          </div>
        </div>
      </div>
    </section>

    <!-- Blok 5: WMO per gemeente -->
    <section class="section gemeente-section">
      <div class="container">
        <h2 class="section-title">WMO per gemeente</h2>
        <p class="section-subtitle">Elke gemeente heeft eigen regels ‚Äî wij kennen ze allemaal</p>
        
        <div class="gemeente-grid">
          <div class="gemeente-card">
            <div class="gemeente-header">
              <h3>Amsterdam</h3>
              <div class="gemeente-badge green">Uitgebreide regeling</div>
            </div>
            <ul class="gemeente-details">
              <li><strong>Vergoeding:</strong> Vaak 100%</li>
              <li><strong>Eigen bijdrage:</strong> ‚Ç¨0 - ‚Ç¨19/mnd</li>
              <li><strong>Doorlooptijd:</strong> 6-8 weken</li>
              <li><strong>Bijzonderheid:</strong> Ruime interpretatie</li>
            </ul>
          </div>

          <div class="gemeente-card">
            <div class="gemeente-header">
              <h3>Rotterdam</h3>
              <div class="gemeente-badge blue">Snelle afhandeling</div>
            </div>
            <ul class="gemeente-details">
              <li><strong>Vergoeding:</strong> Tot ‚Ç¨12.000</li>
              <li><strong>Eigen bijdrage:</strong> ‚Ç¨0 - ‚Ç¨17/mnd</li>
              <li><strong>Doorlooptijd:</strong> 4-6 weken</li>
              <li><strong>Bijzonderheid:</strong> Digitale aanvraag</li>
            </ul>
          </div>

          <div class="gemeente-card">
            <div class="gemeente-header">
              <h3>Den Haag</h3>
              <div class="gemeente-badge orange">Persoonlijke aanpak</div>
            </div>
            <ul class="gemeente-details">
              <li><strong>Vergoeding:</strong> Vaak volledig</li>
              <li><strong>Eigen bijdrage:</strong> ‚Ç¨0 - ‚Ç¨22/mnd</li>
              <li><strong>Doorlooptijd:</strong> 6-7 weken</li>
              <li><strong>Bijzonderheid:</strong> Uitgebreid huisbezoek</li>
            </ul>
          </div>

          <div class="gemeente-card">
            <div class="gemeente-header">
              <h3>Utrecht</h3>
              <div class="gemeente-badge purple">Innovatief</div>
            </div>
            <ul class="gemeente-details">
              <li><strong>Vergoeding:</strong> Tot ‚Ç¨15.000</li>
              <li><strong>Eigen bijdrage:</strong> ‚Ç¨0 - ‚Ç¨25/mnd</li>
              <li><strong>Doorlooptijd:</strong> 5-6 weken</li>
              <li><strong>Bijzonderheid:</strong> Online tracking</li>
            </ul>
          </div>

          <div class="gemeente-card">
            <div class="gemeente-header">
              <h3>Eindhoven</h3>
              <div class="gemeente-badge teal">Flexibel</div>
            </div>
            <ul class="gemeente-details">
              <li><strong>Vergoeding:</strong> Naar behoefte</li>
              <li><strong>Eigen bijdrage:</strong> ‚Ç¨0 - ‚Ç¨30/mnd</li>
              <li><strong>Doorlooptijd:</strong> 6-8 weken</li>
              <li><strong>Bijzonderheid:</strong> Technologie-vriendelijk</li>
            </ul>
          </div>

          <div class="gemeente-card special">
            <div class="gemeente-header">
              <h3>Uw gemeente</h3>
              <div class="gemeente-badge default">Ook mogelijk</div>
            </div>
            <div class="gemeente-special-content">
              <p>Wij kennen de regels van elke Nederlandse gemeente. Plan een gratis adviesgesprek en ontdek wat er in uw situatie mogelijk is.</p>
              <a href="/contact" class="btn btn-primary">Plan gratis advies</a>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Blok 6: Subsidie-check module -->
    <section id="subsidie-check" class="section subsidie-check-section">
      <div class="container">
        <div class="subsidie-check-content">
          <div class="subsidie-check-intro">
            <h2 class="section-title">Subsidie-check: In 5 minuten meer weten</h2>
            <p class="section-subtitle">
              Beantwoord een paar eenvoudige vragen en ontdek direct welke subsidies 
              en financieringsopties bij uw situatie passen.
            </p>
            <div class="check-progress">
              <div class="progress-bar">
                <div class="progress-fill" id="check-progress-fill"></div>
              </div>
              <span class="progress-text" id="check-progress-text">Vraag 1 van 3</span>
            </div>
          </div>

          <div class="subsidie-check-widget">
            <div class="check-step active" id="step-1">
              <h3>Stap 1: Wat heeft u nodig?</h3>
              <div class="check-options">
                <label class="check-option">
                  <input type="radio" name="need" value="traplift">
                  <span class="option-content">
                    <span class="option-icon">üèÉ</span>
                    <span class="option-text">Traplift</span>
                  </span>
                </label>
                <label class="check-option">
                  <input type="radio" name="need" value="badkamer">
                  <span class="option-content">
                    <span class="option-icon">üõÅ</span>
                    <span class="option-text">Badkamer aanpassing</span>
                  </span>
                </label>
                <label class="check-option">
                  <input type="radio" name="need" value="drempels">
                  <span class="option-content">
                    <span class="option-icon">üö™</span>
                    <span class="option-text">Drempels wegwerken</span>
                  </span>
                </label>
                <label class="check-option">
                  <input type="radio" name="need" value="anders">
                  <span class="option-content">
                    <span class="option-icon">‚ùì</span>
                    <span class="option-text">Iets anders</span>
                  </span>
                </label>
              </div>
            </div>

            <div class="check-step" id="step-2">
              <h3>Stap 2: Wat is uw leeftijd?</h3>
              <div class="check-options">
                <label class="check-option">
                  <input type="radio" name="age" value="under-55">
                  <span class="option-content">
                    <span class="option-text">Onder 55 jaar</span>
                  </span>
                </label>
                <label class="check-option">
                  <input type="radio" name="age" value="55-75">
                  <span class="option-content">
                    <span class="option-text">55-75 jaar</span>
                  </span>
                </label>
                <label class="check-option">
                  <input type="radio" name="age" value="over-75">
                  <span class="option-content">
                    <span class="option-text">Boven 75 jaar</span>
                  </span>
                </label>
              </div>
            </div>

            <div class="check-step" id="step-3">
              <h3>Stap 3: Heeft u een medische indicatie?</h3>
              <div class="check-options">
                <label class="check-option">
                  <input type="radio" name="medical" value="yes">
                  <span class="option-content">
                    <span class="option-text">Ja, van arts/fysiotherapeut</span>
                  </span>
                </label>
                <label class="check-option">
                  <input type="radio" name="medical" value="no">
                  <span class="option-content">
                    <span class="option-text">Nee, maar wel problemen</span>
                  </span>
                </label>
                <label class="check-option">
                  <input type="radio" name="medical" value="unknown">
                  <span class="option-content">
                    <span class="option-text">Weet ik niet zeker</span>
                  </span>
                </label>
              </div>
            </div>

            <div class="check-step" id="result">
              <div class="check-result">
                <div class="result-icon">üéâ</div>
                <h3>Uw resultaat</h3>
                <div class="result-content" id="result-content">
                  <!-- JavaScript fills this -->
                </div>
                <div class="result-actions">
                  <a href="/contact" class="btn btn-primary">Plan gratis adviesgesprek</a>
                  <button class="btn btn-secondary" onclick="restartCheck()">Opnieuw starten</button>
                </div>
              </div>
            </div>

            <div class="check-navigation">
              <button class="btn btn-secondary" id="prev-btn" onclick="prevStep()" style="display: none;">Vorige</button>
              <button class="btn btn-primary" id="next-btn" onclick="nextStep()">Volgende</button>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Blok 7: Veelgestelde vragen -->
    <section class="section faq-section">
      <div class="container">
        <h2 class="section-title">Veelgestelde vragen</h2>
        <div class="faq-grid">
          <div class="faq-item" itemscope itemtype="https://schema.org/Question">
            <h3 class="faq-question" itemprop="name">Hoe lang duurt een WMO-aanvraag?</h3>
            <div class="faq-answer" itemscope itemtype="https://schema.org/Answer">
              <div itemprop="text">
                <p>Een WMO-aanvraag duurt wettelijk maximaal 8 weken. In de praktijk krijgt u vaak binnen 6 weken antwoord. Wij begeleiden u door het hele proces.</p>
              </div>
            </div>
          </div>

          <div class="faq-item" itemscope itemtype="https://schema.org/Question">
            <h3 class="faq-question" itemprop="name">Wat kost een WMO-aanvraag?</h3>
            <div class="faq-answer" itemscope itemtype="https://schema.org/Answer">
              <div itemprop="text">
                <p>Een WMO-aanvraag kost niets. Onze begeleiding is gratis. U betaalt alleen de eventuele eigen bijdrage na goedkeuring.</p>
              </div>
            </div>
          </div>

          <div class="faq-item" itemscope itemtype="https://schema.org/Question">
            <h3 class="faq-question" itemprop="name">Wat is het CAK?</h3>
            <div class="faq-answer" itemscope itemtype="https://schema.org/Answer">
              <div itemprop="text">
                <p>Het CAK (Centraal Administratie Kantoor) bepaalt uw eigen bijdrage voor WMO-voorzieningen op basis van uw inkomen en vermogen.</p>
              </div>
            </div>
          </div>

          <div class="faq-item" itemscope itemtype="https://schema.org/Question">
            <h3 class="faq-question" itemprop="name">Kan ik WMO krijgen als huurder?</h3>
            <div class="faq-answer" itemscope itemtype="https://Schema.org/Answer">
              <div itemprop="text">
                <p>Ja, ook huurders kunnen WMO-voorzieningen aanvragen. De gemeente regelt dan de toestemming met uw verhuurder.</p>
              </div>
            </div>
          </div>

          <div class="faq-item" itemscope itemtype="https://schema.org/Question">
            <h3 class="faq-question" itemprop="name">Wat als ik eerder WMO kreeg?</h3>
            <div class="faq-answer" itemscope itemtype="https://schema.org/Answer">
              <div itemprop="text">
                <p>Als u eerder WMO-voorzieningen kreeg, kunt u opnieuw een aanvraag doen voor nieuwe of aanvullende hulpmiddelen.</p>
              </div>
            </div>
          </div>

          <div class="faq-item" itemscope itemtype="https://schema.org/Question">
            <h3 class="faq-question" itemprop="name">Wat als mijn aanvraag wordt afgewezen?</h3>
            <div class="faq-answer" itemscope itemtype="https://schema.org/Answer">
              <div itemprop="text">
                <p>Bij afwijzing kunt u bezwaar aantekenen. Wij helpen u hierbij en zoeken naar alternatieve financieringsopties.</p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Blok 8: Slotblok ‚Äî Advies & Contact -->
    <section class="section cta-section">
      <div class="container">
        <div class="cta-content">
          <h2 class="cta-title">Klaar om uw subsidie-aanvraag te starten?</h2>
          <p class="cta-description">
            Plan een gratis adviesgesprek en ontdek welke financieringsopties 
            het beste bij uw situatie passen. Wij regelen de hele aanvraag voor u.
          </p>
          <div class="cta-actions">
            <a href="/contact" class="btn btn-primary btn-large">Plan gratis adviesgesprek</a>
            <a href="tel:020-123-4567" class="btn btn-secondary btn-large">Direct bellen</a>
          </div>
          <p class="cta-note">
            üì± Ook bereikbaar via WhatsApp ‚Äî snel een antwoord op uw vragen
          </p>
        </div>
      </div>
    </section>
  </main>

  <Footer />
</Layout>

<script>
  // Subsidie-check functionaliteit
  document.addEventListener('DOMContentLoaded', function() {
    let currentStep = 1;
    const totalSteps = 3;
    const answers = {};

    // Initialiseer event listeners
    initializeSubsidieCheck();
    updateProgress();

    function initializeSubsidieCheck() {
      // Event listeners voor radio buttons (voor automatische doorgang)
      document.querySelectorAll('.check-option input[type="radio"]').forEach(radio => {
        radio.addEventListener('change', function() {
          const stepElement = this.closest('.check-step');
          const stepNumber = parseInt(stepElement.id.split('-')[1]);
          
          // Verwijder selected class van alle opties in deze stap
          stepElement.querySelectorAll('.check-option').forEach(option => {
            option.classList.remove('selected');
          });
          
          // Voeg selected class toe aan gekozen optie
          this.closest('.check-option').classList.add('selected');
          
          // Sla antwoord op
          answers[this.name] = this.value;
          
          // Auto-advance na korte delay
          setTimeout(() => {
            if (stepNumber < totalSteps) {
              nextStep();
            } else {
              showResult();
            }
          }, 600);
        });
      });

      // Event listeners voor navigatie knoppen
      const nextBtn = document.getElementById('next-btn');
      const prevBtn = document.getElementById('prev-btn');
      
      if (nextBtn) {
        nextBtn.addEventListener('click', nextStep);
      }
      
      if (prevBtn) {
        prevBtn.addEventListener('click', prevStep);
      }

      // Event listener voor restart button
      const restartBtn = document.querySelector('button[onclick="restartCheck()"]');
      if (restartBtn) {
        restartBtn.addEventListener('click', restartCheck);
        restartBtn.removeAttribute('onclick'); // Verwijder inline onclick
      }
    }

    function nextStep() {
      const currentStepEl = document.getElementById(`step-${currentStep}`);
      const inputs = currentStepEl.querySelectorAll('input[type="radio"]');
      const selectedInput = Array.from(inputs).find(input => input.checked);
      
      if (!selectedInput && currentStep <= totalSteps) {
        alert('Maak eerst een keuze voordat u verder gaat.');
        return;
      }

      if (selectedInput) {
        answers[selectedInput.name] = selectedInput.value;
      }

      if (currentStep < totalSteps) {
        // Verberg huidige stap
        currentStepEl.classList.remove('active');
        currentStep++;
        
        // Toon volgende stap
        const nextStepEl = document.getElementById(`step-${currentStep}`);
        if (nextStepEl) {
          nextStepEl.classList.add('active');
        }
        
        // Update navigatie
        updateNavigation();
      } else if (currentStep === totalSteps) {
        // Toon resultaat
        currentStepEl.classList.remove('active');
        showResult();
      }
    }

    function prevStep() {
      if (currentStep > 1) {
        document.getElementById(`step-${currentStep}`).classList.remove('active');
        currentStep--;
        document.getElementById(`step-${currentStep}`).classList.add('active');
        
        updateNavigation();
      }
    }

    function updateNavigation() {
      const prevBtn = document.getElementById('prev-btn');
      const nextBtn = document.getElementById('next-btn');
      
      if (prevBtn) {
        prevBtn.style.display = currentStep > 1 ? 'inline-block' : 'none';
      }
      
      if (nextBtn) {
        nextBtn.textContent = currentStep === totalSteps ? 'Toon resultaat' : 'Volgende';
      }
      
      updateProgress();
    }

    function updateProgress() {
      const progressFill = document.getElementById('check-progress-fill');
      const progressText = document.getElementById('check-progress-text');
      
      if (progressFill && progressText) {
        const progress = (currentStep / totalSteps) * 100;
        progressFill.style.width = `${progress}%`;
        
        if (currentStep <= totalSteps) {
          progressText.textContent = `Vraag ${currentStep} van ${totalSteps}`;
        } else {
          progressText.textContent = 'Resultaten';
        }
      }
    }

    function showResult() {
      const resultStep = document.getElementById('result');
      const navigation = document.querySelector('.check-navigation');
      
      if (resultStep) {
        resultStep.classList.add('active');
      }
      
      if (navigation) {
        navigation.style.display = 'none';
      }
      
      // Bepaal resultaat op basis van antwoorden
      generateResult();
    }

    function generateResult() {
      const resultContent = document.getElementById('result-content');
      if (!resultContent) return;
      
      let resultHtml = '';

      if (answers.medical === 'yes') {
        resultHtml = `
          <div class="result-positive">
            <h4>üéâ Grote kans op WMO-vergoeding!</h4>
            <p>Met een medische indicatie heeft u een zeer goede kans op (volledige) WMO-vergoeding.</p>
            <ul>
              <li>‚úÖ Waarschijnlijk 100% vergoeding</li>
              <li>‚úÖ Eigen bijdrage ‚Ç¨0-150/maand</li>
              <li>‚úÖ Wij regelen de hele aanvraag</li>
            </ul>
          </div>
        `;
      } else if (answers.age === 'over-75' || answers.age === '55-75') {
        resultHtml = `
          <div class="result-good">
            <h4>üëç Goede kansen op subsidie</h4>
            <p>Voor uw leeftijdsgroep zijn er verschillende financieringsopties beschikbaar.</p>
            <ul>
              <li>‚úÖ WMO-aanvraag mogelijk</li>
              <li>‚úÖ Blijverslening beschikbaar</li>
              <li>‚úÖ Termijnbetaling zonder rente</li>
            </ul>
          </div>
        `;
      } else if (answers.need === 'traplift' && answers.age === 'under-55') {
        resultHtml = `
          <div class="result-neutral">
            <h4>üí° Alternatieve financiering mogelijk</h4>
            <p>Voor uw leeftijd zijn er verschillende financieringsopties buiten WMO om.</p>
            <ul>
              <li>‚úÖ Termijnbetaling 0% rente</li>
              <li>‚úÖ Huurkoop mogelijk</li>
              <li>‚úÖ Persoonlijk financieringsplan</li>
            </ul>
          </div>
        `;
      } else {
        resultHtml = `
          <div class="result-neutral">
            <h4>ü§î Maatwerk-advies nodig</h4>
            <p>Uw situatie vereist persoonlijk advies om de beste financieringsoptie te vinden.</p>
            <ul>
              <li>‚úÖ Gratis adviesgesprek</li>
              <li>‚úÖ Alle opties op een rij</li>
              <li>‚úÖ Persoonlijk financieringsplan</li>
            </ul>
          </div>
        `;
      }

      resultContent.innerHTML = resultHtml;
    }

    function restartCheck() {
      // Reset alles
      currentStep = 1;
      Object.keys(answers).forEach(key => delete answers[key]);
      
      // Verberg alle stappen behalve de eerste
      document.querySelectorAll('.check-step').forEach(step => step.classList.remove('active'));
      const firstStep = document.getElementById('step-1');
      if (firstStep) {
        firstStep.classList.add('active');
      }
      
      // Reset navigatie
      const navigation = document.querySelector('.check-navigation');
      if (navigation) {
        navigation.style.display = 'flex';
      }
      
      updateNavigation();
      
      // Reset alle radio buttons en selected states
      document.querySelectorAll('input[type="radio"]').forEach(input => {
        input.checked = false;
      });
      
      document.querySelectorAll('.check-option').forEach(option => {
        option.classList.remove('selected');
      });
    }

    // Maak functies globaal beschikbaar
    window.nextStep = nextStep;
    window.prevStep = prevStep;
    window.restartCheck = restartCheck;
  });

  // FAQ accordeon functionaliteit
  document.addEventListener('DOMContentLoaded', function() {
    document.querySelectorAll('.faq-question').forEach(question => {
      question.addEventListener('click', () => {
        const faqItem = question.closest('.faq-item');
        const isOpen = faqItem.classList.contains('open');
        
        // Sluit alle andere FAQ items
        document.querySelectorAll('.faq-item').forEach(item => item.classList.remove('open'));
        
        // Toggle huidige item
        if (!isOpen) {
          faqItem.classList.add('open');
        }
      });
    });
  });

  // Smooth scroll voor anchor links
  document.addEventListener('DOMContentLoaded', function() {
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
      anchor.addEventListener('click', function (e) {
        e.preventDefault();
        const targetId = this.getAttribute('href').substring(1);
        const targetElement = document.getElementById(targetId);
        
        if (targetElement) {
          targetElement.scrollIntoView({
            behavior: 'smooth',
            block: 'start'
          });
        }
      });
    });
  });
</script>

<style>
  :root {
    --primary-green: #2E7D32;
    --primary-green-light: #4CAF50;
    --secondary-blue: #1976D2;
    --accent-orange: #FF9800;
    --text-dark: #212121;
    --text-gray: #666;
    --background-light: #f8f9fa;
    --white: #ffffff;
    --border-color: #e0e0e0;
  }

  /* Layout & Typography */
  .container {
    max-width: 1200px;
    margin: 0 auto;
    padding: 0 1rem;
  }

  .section {
    padding: 4rem 0;
  }

  .section-title {
    font-size: 2.5rem;
    font-weight: 700;
    color: var(--text-dark);
    margin-bottom: 1rem;
    text-align: center;
  }

  .section-subtitle {
    font-size: 1.125rem;
    color: var(--text-gray);
    text-align: center;
    margin-bottom: 3rem;
    max-width: 600px;
    margin-left: auto;
    margin-right: auto;
  }

  /* Blok 1: Hero */
  .hero {
    background: linear-gradient(135deg, #f0f9f4 0%, #ffffff 100%);
    padding: 6rem 0 4rem;
  }

  .hero-content {
    display: grid;
    grid-template-columns: 1fr 400px;
    gap: 4rem;
    align-items: start;
  }

  .hero-title {
    font-size: 3rem;
    font-weight: 700;
    color: var(--text-dark);
    margin-bottom: 1rem;
    line-height: 1.2;
  }

  .hero-subtitle {
    font-size: 1.25rem;
    color: var(--text-gray);
    margin-bottom: 2rem;
    line-height: 1.5;
  }

  .hero-benefits {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 1rem;
    margin-bottom: 2rem;
  }

  .benefit-item {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    padding: 1rem;
    background: var(--white);
    border-radius: 0.5rem;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
  }

  .benefit-check {
    font-size: 1.25rem;
    flex-shrink: 0;
  }

  .benefit-item span:last-child {
    font-weight: 500;
    color: var(--text-dark);
  }

  .hero-quote {
    font-style: italic;
    color: var(--text-gray);
    border-left: 4px solid var(--primary-green);
    padding-left: 1rem;
    margin: 0;
  }

  .hero-subsidie-check {
    position: sticky;
    top: 2rem;
  }

  /* Blok 2: WMO Info */
  .wmo-info-section {
    background: var(--white);
  }

  .wmo-intro {
    font-size: 1.125rem;
    color: var(--text-gray);
    text-align: center;
    max-width: 800px;
    margin: 0 auto 3rem;
    line-height: 1.6;
  }

  .wmo-highlights {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 2rem;
  }

  .highlight-box {
    background: var(--white);
    padding: 2rem;
    border-radius: 1rem;
    text-align: center;
    text-decoration: none;
    color: inherit;
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
    transition: all 0.3s ease;
    border: 2px solid transparent;
  }

  .highlight-box:hover {
    transform: translateY(-4px);
    box-shadow: 0 8px 30px rgba(0, 0, 0, 0.12);
  }

  .highlight-green {
    border-color: var(--primary-green);
  }

  .highlight-blue {
    border-color: var(--secondary-blue);
  }

  .highlight-orange {
    border-color: var(--accent-orange);
  }

  .highlight-box h3 {
    font-size: 1.25rem;
    font-weight: 600;
    color: var(--text-dark);
    margin-bottom: 0.5rem;
  }

  .highlight-box p {
    font-size: 0.95rem;
    color: var(--text-gray);
    margin: 0;
  }

  /* Blok 3: Stappenplan */
  .steps-section {
    background: var(--background-light);
  }

  .steps-grid {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    gap: 2rem;
  }

  .step-card {
    background: var(--white);
    padding: 2rem;
    border-radius: 1rem;
    text-align: center;
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
  }

  .step-number {
    width: 60px;
    height: 60px;
    background: linear-gradient(135deg, #e8f5e8 0%, #d4edda 100%);
    color: var(--primary-green);
    border: 2px solid var(--primary-green);
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.5rem;
    font-weight: 700;
    margin: 0 auto 1.5rem;
  }

  .step-title {
    font-size: 1.25rem;
    font-weight: 600;
    color: var(--text-dark);
    margin-bottom: 1rem;
  }

  .step-description {
    color: var(--text-gray);
    line-height: 1.5;
    margin: 0;
  }

  /* Blok 4: Financieringsopties */
  .financing-section {
    background: var(--white);
  }

  .financing-grid {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 2rem;
  }

  .financing-card {
    background: var(--white);
    border: 2px solid var(--border-color);
    border-radius: 1rem;
    padding: 2rem;
    position: relative;
    transition: all 0.3s ease;
  }

  .financing-card:hover {
    transform: translateY(-4px);
    box-shadow: 0 8px 30px rgba(0, 0, 0, 0.12);
  }

  .financing-card.featured {
    border-color: var(--primary-green);
    box-shadow: 0 4px 20px rgba(46, 125, 50, 0.15);
  }

  .financing-badge {
    position: absolute;
    top: -10px;
    right: 2rem;
    background: var(--primary-green);
    color: var(--white);
    padding: 0.5rem 1rem;
    border-radius: 1rem;
    font-size: 0.8rem;
    font-weight: 600;
  }

  .financing-icon {
    font-size: 3rem;
    margin-bottom: 1rem;
    display: block;
  }

  .financing-title {
    font-size: 1.5rem;
    font-weight: 600;
    color: var(--text-dark);
    margin-bottom: 1rem;
  }

  .financing-details {
    margin-bottom: 1.5rem;
  }

  .detail-row {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 0.5rem 0;
    border-bottom: 1px solid #f0f0f0;
  }

  .detail-row:last-child {
    border-bottom: none;
  }

  .detail-label {
    color: var(--text-gray);
    font-size: 0.9rem;
  }

  .detail-value {
    font-weight: 600;
    color: var(--text-dark);
  }

  .financing-benefits {
    list-style: none;
    padding: 0;
    margin: 0 0 2rem 0;
  }

  .financing-benefits li {
    padding: 0.25rem 0;
    font-size: 0.9rem;
    color: var(--text-gray);
  }

  .btn-full {
    width: 100%;
    justify-content: center;
  }

  /* Blok 5: Gemeente overzicht */
  .gemeente-section {
    background: var(--background-light);
  }

  .gemeente-grid {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 2rem;
  }

  .gemeente-card {
    background: var(--white);
    border-radius: 1rem;
    padding: 2rem;
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
  }

  .gemeente-card.special {
    background: linear-gradient(135deg, var(--primary-green) 0%, var(--primary-green-light) 100%);
    color: var(--white);
  }

  .gemeente-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 1.5rem;
  }

  .gemeente-header h3 {
    margin: 0;
    font-size: 1.25rem;
    font-weight: 600;
  }

  .gemeente-badge {
    padding: 0.25rem 0.75rem;
    border-radius: 1rem;
    font-size: 0.75rem;
    font-weight: 600;
  }

  .gemeente-badge.green { background: #e8f5e8; color: var(--primary-green); }
  .gemeente-badge.blue { background: #e3f2fd; color: var(--secondary-blue); }
  .gemeente-badge.orange { background: #fff3e0; color: var(--accent-orange); }
  .gemeente-badge.purple { background: #f3e5f5; color: #7B1FA2; }
  .gemeente-badge.teal { background: #e0f2f1; color: #00695C; }
  .gemeente-badge.default { background: var(--white); color: var(--primary-green); }

  .gemeente-details {
    list-style: none;
    padding: 0;
    margin: 0;
  }

  .gemeente-details li {
    padding: 0.5rem 0;
    border-bottom: 1px solid #f0f0f0;
    font-size: 0.9rem;
  }

  .gemeente-details li:last-child {
    border-bottom: none;
  }

  .gemeente-special-content {
    text-align: center;
  }

  .gemeente-special-content p {
    margin-bottom: 2rem;
    opacity: 0.9;
  }

  /* Blok 6: Subsidie-check widget */
  .subsidie-check-section {
    background: var(--white);
  }

  .check-progress {
    margin-bottom: 2rem;
    text-align: center;
  }

  .progress-bar {
    background: #e0e0e0;
    border-radius: 1rem;
    height: 8px;
    margin-bottom: 0.75rem;
    overflow: hidden;
  }

  .progress-fill {
    background: linear-gradient(90deg, var(--primary-green) 0%, var(--primary-green-light) 100%);
    height: 100%;
    width: 33.33%;
    border-radius: 1rem;
    transition: width 0.3s ease;
  }

  .progress-text {
    font-size: 0.875rem;
    color: var(--text-gray);
    font-weight: 500;
  }

  .subsidie-check-widget {
    max-width: 800px;
    margin: 0 auto;
    background: var(--background-light);
    border-radius: 1rem;
    padding: 3rem;
  }

  .check-step {
    display: none;
  }

  .check-step.active {
    display: block;
  }

  .check-step h3 {
    font-size: 1.5rem;
    font-weight: 600;
    color: var(--text-dark);
    margin-bottom: 2rem;
    text-align: center;
  }

  .check-options {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 1rem;
    margin-bottom: 2rem;
  }

  .check-option {
    cursor: pointer;
  }

  .check-option input {
    display: none;
  }

  .option-content {
    display: flex;
    align-items: center;
    gap: 1rem;
    padding: 1.5rem;
    background: var(--white);
    border: 2px solid var(--border-color);
    border-radius: 0.5rem;
    transition: all 0.3s ease;
  }

  .check-option:hover .option-content {
    border-color: var(--primary-green);
  }

  .check-option input:checked + .option-content,
  .check-option.selected .option-content {
    border-color: var(--primary-green);
    background: #f0f9f4;
    box-shadow: 0 4px 12px rgba(46, 125, 50, 0.15);
  }

  .option-icon {
    font-size: 1.5rem;
    flex-shrink: 0;
  }

  .option-text {
    font-weight: 500;
    color: var(--text-dark);
  }

  .check-navigation {
    display: flex;
    justify-content: space-between;
    gap: 1rem;
  }

  .check-result {
    text-align: center;
  }

  .result-icon {
    font-size: 4rem;
    margin-bottom: 1rem;
  }

  .result-content {
    margin: 2rem 0;
  }

  .result-positive, .result-good, .result-neutral {
    padding: 2rem;
    border-radius: 1rem;
    text-align: left;
  }

  .result-positive {
    background: #e8f5e8;
    border: 2px solid var(--primary-green);
  }

  .result-good {
    background: #e3f2fd;
    border: 2px solid var(--secondary-blue);
  }

  .result-neutral {
    background: #fff3e0;
    border: 2px solid var(--accent-orange);
  }

  .result-content h4 {
    margin-bottom: 1rem;
    font-size: 1.25rem;
  }

  .result-content ul {
    list-style: none;
    padding: 0;
    margin: 1rem 0 0 0;
  }

  .result-content li {
    padding: 0.25rem 0;
    font-size: 0.9rem;
  }

  .result-actions {
    display: flex;
    gap: 1rem;
    justify-content: center;
  }

  /* Blok 7: FAQ */
  .faq-section {
    background: var(--background-light);
  }

  .faq-grid {
    display: grid;
    gap: 1rem;
    max-width: 800px;
    margin: 0 auto;
  }

  .faq-item {
    background: var(--white);
    border-radius: 0.5rem;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
    overflow: hidden;
  }

  .faq-item.open .faq-question {
    background: #f8f9fa;
  }

  .faq-question {
    padding: 1.5rem;
    margin: 0;
    font-size: 1.125rem;
    font-weight: 600;
    color: var(--text-dark);
    cursor: pointer;
    position: relative;
    background: var(--white);
    border: none;
    width: 100%;
    text-align: left;
    transition: background-color 0.3s ease;
  }

  .faq-question:hover {
    background: #f8f9fa;
  }

  .faq-question::after {
    content: '+';
    position: absolute;
    right: 1.5rem;
    top: 50%;
    transform: translateY(-50%);
    font-size: 1.5rem;
    color: var(--primary-green);
    transition: transform 0.3s ease;
  }

  .faq-item.open .faq-question::after {
    transform: translateY(-50%) rotate(45deg);
  }

  .faq-answer {
    padding: 0 1.5rem;
    max-height: 0;
    overflow: hidden;
    transition: all 0.3s ease;
  }

  .faq-item.open .faq-answer {
    padding: 0 1.5rem 1.5rem;
    max-height: 200px;
  }

  .faq-answer p {
    color: var(--text-gray);
    line-height: 1.6;
    margin: 0;
  }

  /* Blok 8: Final CTA */
  .cta-section {
    background: linear-gradient(135deg, #f0f9f4 0%, #e8f5e8 100%);
    text-align: center;
  }

  .cta-title {
    font-size: 2.5rem;
    font-weight: 700;
    color: var(--text-dark);
    margin-bottom: 1rem;
  }

  .cta-description {
    font-size: 1.125rem;
    color: var(--text-gray);
    margin-bottom: 2rem;
    max-width: 600px;
    margin-left: auto;
    margin-right: auto;
  }

  .cta-actions {
    display: flex;
    gap: 1rem;
    justify-content: center;
    margin-bottom: 1rem;
  }

  .cta-note {
    font-size: 0.875rem;
    color: var(--text-gray);
    font-style: italic;
  }

  /* Buttons */
  .btn {
    display: inline-flex;
    align-items: center;
    padding: 0.75rem 1.5rem;
    border-radius: 0.5rem;
    font-weight: 600;
    text-decoration: none;
    border: 2px solid transparent;
    transition: all 0.3s ease;
    cursor: pointer;
    font-size: 1rem;
  }

  .btn-primary {
    background: var(--primary-green);
    color: var(--white);
    border-color: var(--primary-green);
  }

  .btn-primary:hover {
    background: var(--primary-green-light);
    border-color: var(--primary-green-light);
  }

  .btn-secondary {
    background: var(--white);
    color: var(--primary-green);
    border-color: var(--primary-green);
  }

  .btn-secondary:hover {
    background: var(--primary-green);
    color: var(--white);
  }

  .btn-large {
    padding: 1rem 2rem;
    font-size: 1.125rem;
  }

  /* Responsive */
  @media (max-width: 1024px) {
    .hero-content {
      grid-template-columns: 1fr;
      gap: 3rem;
    }

    .hero-subsidie-check {
      position: static;
    }

    .hero-benefits {
      grid-template-columns: 1fr;
    }

    .financing-grid {
      grid-template-columns: 1fr;
    }
  }

  @media (max-width: 768px) {
    .hero-title {
      font-size: 2.25rem;
    }

    .hero-subtitle {
      font-size: 1.125rem;
    }

    .wmo-highlights,
    .steps-grid,
    .gemeente-grid {
      grid-template-columns: 1fr;
    }

    .check-options {
      grid-template-columns: 1fr;
    }

    .cta-actions {
      flex-direction: column;
      align-items: center;
    }

    .result-actions {
      flex-direction: column;
    }

    .hero-benefits {
      gap: 0.75rem;
    }

    .benefit-item {
      padding: 0.75rem;
    }
  }
</style> 